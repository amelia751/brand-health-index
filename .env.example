# =============================================================================
# Brand Health Index - Environment Variables
# =============================================================================
# IMPORTANT: This file contains sensitive configuration.
# Remember to uncomment .env in .gitignore before committing to GitHub!
# =============================================================================

# -----------------------------------------------------------------------------
# Google Cloud Platform Configuration
# -----------------------------------------------------------------------------
PROJECT_ID=brand-health-index
REGION=us-central1
ENVIRONMENT=dev

# GCS Bucket
GCS_BUCKET=brand-health-raw-data
BRAND_HEALTH_BUCKET_NAME=brand-health-raw-data-dev-20241201

# BigQuery Datasets
BIGQUERY_DATASET_RAW=fivetran_raw
BIGQUERY_DATASET_DEV=brand_health_dev
BIGQUERY_DATASET_PROD=brand_health_prod

# Service Account
SERVICE_ACCOUNT_EMAIL=brand-health-functions@brand-health-index.iam.gserviceaccount.com

# -----------------------------------------------------------------------------
# Secret Manager - Secret Names (not actual secrets)
# -----------------------------------------------------------------------------
TWITTER_SECRET_NAME=twitter-bearer-token
REDDIT_SECRET_NAME=reddit-credentials
GLASSDOOR_SECRET_NAME=glassdoor-rapidapi-credentials

# -----------------------------------------------------------------------------
# API Keys & Credentials (stored in Secret Manager)
# -----------------------------------------------------------------------------
# Twitter/X API v2
# TWITTER_BEARER_TOKEN=<stored in Secret Manager>

# Reddit API (PRAW)
# REDDIT_CLIENT_ID=sZ-8BNCKtKQkw5AekLt5tQ
# REDDIT_CLIENT_SECRET=tYbH8_Ncg113DMyHq2ncw8fntgeDAw
# REDDIT_USER_AGENT=Adventurous-Way-2355
# REDDIT_USERNAME=<stored in Secret Manager>
# REDDIT_PASSWORD=<stored in Secret Manager>

# Glassdoor RapidAPI
# RAPIDAPI_KEY=<stored in Secret Manager>
# RAPIDAPI_HOST=<stored in Secret Manager>

# -----------------------------------------------------------------------------
# Cloud Function Configuration
# -----------------------------------------------------------------------------
# Port for local testing
PORT=8080

# Cloud Function Memory
FUNCTION_MEMORY=512MB

# Cloud Function Timeout
FUNCTION_TIMEOUT=540s

# -----------------------------------------------------------------------------
# Data Fetcher Configuration
# -----------------------------------------------------------------------------
# Rate Limiting
TWITTER_RATE_LIMIT_DELAY=2
REDDIT_RATE_LIMIT_DELAY=2
TRENDS_RATE_LIMIT_DELAY=2
CFPB_RATE_LIMIT_DELAY=1
GLASSDOOR_RATE_LIMIT_DELAY=5

# Data Fetch Limits
TWITTER_MAX_RESULTS=100
REDDIT_MAX_RESULTS=100
TRENDS_MAX_RESULTS=100
CFPB_MAX_RESULTS=1000
GLASSDOOR_MAX_PAGES=5

# -----------------------------------------------------------------------------
# Pub/Sub Topics
# -----------------------------------------------------------------------------
PUBSUB_TOPIC_TWITTER=twitter-data-fetch
PUBSUB_TOPIC_REDDIT=reddit-data-fetch
PUBSUB_TOPIC_TRENDS=trends-data-fetch
PUBSUB_TOPIC_CFPB=cfpb-data-fetch
PUBSUB_TOPIC_GLASSDOOR=glassdoor-data-fetch

# -----------------------------------------------------------------------------
# Cloud Scheduler Configuration
# -----------------------------------------------------------------------------
# Schedule format: cron (UTC timezone)
TWITTER_SCHEDULE="0 2 * * *"  # 2 AM UTC daily
REDDIT_SCHEDULE="0 3 * * *"   # 3 AM UTC daily
TRENDS_SCHEDULE="0 4 * * *"   # 4 AM UTC daily
CFPB_SCHEDULE="0 5 * * *"     # 5 AM UTC daily
GLASSDOOR_SCHEDULE="0 6 * * *" # 6 AM UTC daily

# -----------------------------------------------------------------------------
# API Endpoints (for CFPB)
# -----------------------------------------------------------------------------
CFPB_API_BASE=https://www.consumerfinance.gov/data-research/consumer-complaints/search/api/v1/

# -----------------------------------------------------------------------------
# Financial Brands Configuration
# -----------------------------------------------------------------------------
# Brand IDs tracked across all platforms
# td_bank, bank_of_america, capital_one, chase, citibank, citizens_bank,
# mt_bank, pnc, santander, wells_fargo, keybank, regions_bank, truist

# -----------------------------------------------------------------------------
# Data Storage Paths
# -----------------------------------------------------------------------------
# GCS paths follow pattern: raw/{source}/date=YYYY-MM-DD/{brand_id}.ndjson
GCS_PATH_TWITTER=raw/twitter
GCS_PATH_REDDIT=raw/reddit
GCS_PATH_TRENDS=raw/trends
GCS_PATH_CFPB=raw/cfpb
GCS_PATH_GLASSDOOR=raw/glassdoor

# -----------------------------------------------------------------------------
# DBT Configuration
# -----------------------------------------------------------------------------
DBT_PROFILES_DIR=./data-transformation/dbt
DBT_PROJECT_DIR=./data-transformation/dbt
DBT_TARGET=dev

# -----------------------------------------------------------------------------
# Terraform Configuration
# -----------------------------------------------------------------------------
TF_VAR_project_id=brand-health-index
TF_VAR_region=us-central1
TF_VAR_environment=dev
TF_VAR_brand_health_bucket_name=brand-health-raw-data-dev-20241201

# -----------------------------------------------------------------------------
# Local Development
# -----------------------------------------------------------------------------
# Python virtual environment
VIRTUAL_ENV=./venv

# Flask debug mode (for local testing)
FLASK_DEBUG=True
FLASK_ENV=development

# -----------------------------------------------------------------------------
# Data Schema Version
# -----------------------------------------------------------------------------
SCHEMA_VERSION=1.0.0

# -----------------------------------------------------------------------------
# Notes
# -----------------------------------------------------------------------------
# Reddit Categories:
# - savings_account, checking_account, credit_card, mortgage_rates
# - personal_loan, student_loan, 401k_retirement, investment_account
#
# Financial Institutions:
# - TD Bank, Bank of America, Capital One, Chase, Citibank, Citizens Bank
# - M&T Bank, PNC, Santander, Wells Fargo, KeyBank, Regions Bank, Truist
#
# Subreddits tracked: 43+ across personal finance, banking, credit cards,
# mortgages, student loans, retirement, and bank-specific communities
# =============================================================================
